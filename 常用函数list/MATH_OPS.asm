; 基础数学运算板子
; 包含: 16位加减乘除
; 假设输入在 AX 和 BX 中

    ; ==========================================
    ; 函数: ADD_16
    ; 功能: 计算 AX + BX
    ; 输入: AX, BX
    ; 输出: AX = 结果, CF/OF 设置
    ; ==========================================
ADD_16 PROC NEAR
                  ADD    AX, BX
                  RET
ADD_16 ENDP

    ; ==========================================
    ; 函数: SUB_16
    ; 功能: 计算 AX - BX
    ; 输入: AX, BX
    ; 输出: AX = 结果
    ; ==========================================
SUB_16 PROC NEAR
                  SUB    AX, BX
                  RET
SUB_16 ENDP

    ; ==========================================
    ; 函数: MUL_16
    ; 功能: 计算 AX * BX (无符号)
    ; 输入: AX, BX
    ; 输出: DX:AX = 结果 (高16位在DX, 低16位在AX)
    ; ==========================================
MUL_16 PROC NEAR
                  MUL    BX
                  RET
MUL_16 ENDP

    ; ==========================================
    ; 函数: DIV_16
    ; 功能: 计算 AX / BX (无符号)
    ; 输入: AX (被除数低16位), DX (被除数高16位, 通常置0), BX (除数)
    ; 输出: AX = 商, DX = 余数
    ; 注意: 如果除数为0或商溢出，会产生中断
    ; ==========================================
DIV_16 PROC NEAR
    ; 如果只是 16位 / 16位，确保 DX 为 0
    ; XOR DX, DX ; 如果调用者没有设置DX，可以在这里清零，但通常由调用者决定
                  DIV    BX
                  RET
DIV_16 ENDP

    ; ==========================================
    ; 函数: SIGNED_DIV_16
    ; 功能: 计算 AX / BX (有符号)
    ; 输入: AX, BX
    ; 输出: AX = 商, DX = 余数
    ; ==========================================
SIGNED_DIV_16 PROC NEAR
                  CWD               ; 将 AX 的符号扩展到 DX
                  IDIV   BX
                  RET
SIGNED_DIV_16 ENDP
